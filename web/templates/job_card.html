{% extends 'layout.html' %}
{% block title %} Job Card {% endblock title %}
{% block content %}
<div style="padding-right: 10px">
    <div style="
                width: 100%;
                display: flex;
                flex-direction: column;
                padding-left: 5px;
            ">
        <div style="
                    width: 100%;
                    display: flex;
                    justify-content: space-around;
                    align-items: center;
                    margin-top: 15px;
                ">
            <div style="display: flex;">
                <div>
                    <div style="margin-right: 10px;">
                        <a href="/duplicateJob?jobid={{job['JobId']}}" class="btn btn-primary" role="button">
                            Duplicate
                        </a>
                    </div>
                </div>
                <div>
                    <div>
                        <a href="/editJob?jobid={{job['JobId']}}" class="btn btn-primary" role="button">
                            Edit
                        </a>
                    </div>
                </div>
            </div>
            <div>
                <h1>Job Card</h1>
            </div>
            <div style="display: flex; justify-content: space-around;">

                <div style="margin-right: 10px;">
                    <button class="btn btn-danger" role="button" id="myButton">
                        Delete
                    </button>
                </div>
                <div id="myPopup" class="popup">
                    <div class="popup-content">
                        <div style="padding-bottom: 5px;">
                            <h5>
                                Are you sure you want to delete this job card?
                            </h5>
                        </div>
                        <div style="display: flex; justify-content: space-around;">
                            <div>
                                <a href="/delete?jobid={{job['JobId']}}" class="btn btn-danger" role="button">
                                    Confirm
                                </a>
                            </div>
                            <div>
                                <button id="closePopup" class="btn btn-primary">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="width: 100%; padding: 20px;">
            <table style="width: 100%; border: 2px darkgrey solid !important;" class="table table-bordered"
                id="printTable">
                <tbody>
                    <tr>
                        <td colspan="3">
                            <h4>Job Details</h4>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div class="tableHeaders">
                                <div class="tableNames">Client Name</div>
                                <div class="tableContent">{{ job['clientName'] }}</div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Date</div>
                                <div class="tableContent">{{ job['date'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Job Name</div>
                                <div class="tableContent"><b>{{ job['jobName'] }}</b></div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Qty</div>
                                <div class="tableContent">{{ job['qty'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">
                                    Job Description
                                </div>
                                <div class="tableContent">{{ job['description'] }}</div>
                            </div>
                        </td>
                        <td></td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">
                                    Cost
                                </div>
                                <div class="tableContent">{{ job['jobCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr style="border-top: 2px gray solid !important;">
                        <td colspan="3">
                            <h4>Paper Details</h4>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Supplier Name</div>
                                <div class="tableContent"><b>{{ job['paperSupplierName'] }}</b></div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Gsm</div>
                                <div class="tableContent">{{ job['gsm'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Paper Type</div>
                                <div class="tableContent">{{ job['paperType'] }}</div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Paper Qty</div>
                                <div class="tableContent">{{ job['paperQty'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td style="padding: 0 !important;">
                            <table style="width: 100%;;">
                                <tbody>
                                    <tr>
                                        <td>
                                            <div style="display: flex">
                                                <div class="tableNames"> Length</div>
                                                <div class="tableContent">{{ job['paperLength'] }}</div>
                                            </div>
                                        </td>
                                        <td>
                                            <div style="display: flex">
                                                <div class="tableNames"> Width</div>
                                                <div class="tableContent">{{ job['paperWidth'] }}</div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Paper Size</div>
                                <div class="tableContent">{{ job['paperSize'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['paperCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr style="border-top: 2px gray solid !important;">
                        <td colspan="3">
                            <h4>Printing Details</h4>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Supplier Name</div>
                                <div class="tableContent"><b>{{ job['printingSupplierName'] }}</b></div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Color</div>
                                <div class="tableContent">{{ job['color'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Printing Description</div>
                                <div class="tableContent">{{ job['printingDescription'] }}</div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Print Size</div>
                                <div class="tableContent">{{ job['printSize'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td>

                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Print Qty</div>
                                <div class="tableContent">{{ job['printQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['printCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr style="border-top: 2px gray solid !important;">
                        <td colspan="3">
                            <h4>
                                Corrugation Details
                            </h4>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Supplier Name</div>
                                <div class="tableContent">{{ job['corrugationSupplierName'] }}</div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Ply</div>
                                <div class="tableContent">{{ job['ply'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Ply Description</div>
                                <div class="tableContent">{{ job['plyDescription'] }}</div>
                            </div>
                        </td>
                        <td style="border-right: 0;">
                            <div style="display: flex">
                                <div class="tableNames">Ply Size</div>
                                <div class="tableContent">{{ job['plySize'] }}</div>
                            </div>
                        </td>
                        <td style="border-left: 0;"></td>
                    </tr>
                    <tr>
                        <td>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Ply Qty</div>
                                <div class="tableContent">{{ job['plyQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['plyCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr style="border-top: 2px gray solid !important;">
                        <td colspan="3">
                            <h4>
                                Other Details
                            </h4>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Plate Supplier</div>
                                <div class="tableContent">{{ job['plateSupplierName'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Qty</div>
                                <div class="tableContent">{{ job['plateQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['plateCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Punch Supplier</div>
                                <div class="tableContent">{{ job['punchSuppliers'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Qty</div>
                                <div class="tableContent">{{ job['punchQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['punchCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Varnish Supplier</div>
                                <div class="tableContent">{{ job['varnishSuppliers'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Qty</div>
                                <div class="tableContent">{{ job['varnishQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['varnishCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Lamination Supplier</div>
                                <div class="tableContent">{{ job['laminationSuppliers'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Qty</div>
                                <div class="tableContent">{{ job['laminationQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['laminationCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Punching Supplier</div>
                                <div class="tableContent">{{ job['punchingSuppliers'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Qty</div>
                                <div class="tableContent">{{ job['punchingQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['punchingCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="leftRow">
                            <div style="display: flex">
                                <div class="tableNames">Pasting Supplier</div>
                                <div class="tableContent">{{ job['pastingSuppliers'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Qty</div>
                                <div class="tableContent">{{ job['pastingQty'] }}</div>
                            </div>
                        </td>
                        <td>
                            <div style="display: flex">
                                <div class="tableNames">Cost</div>
                                <div class="tableContent">{{ job['pastingCost'] }}</div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
{% block javascripts %}
<script>
    document.onkeydown = function (evt) {
        evt = evt || window.event;
        var isEscape = false;
        if ("key" in evt) {
            isEscape = (evt.key === "Escape" || evt.key === "Esc");
        } else {
            isEscape = (evt.keyCode === 27);
        }
        if (isEscape) {
            myPopup.classList.remove("show");
        }
    };
    myButton.addEventListener("click", function () {
        myPopup.classList.add("show");
    });
    closePopup.addEventListener("click", function () {
        myPopup.classList.remove("show");
    });
    window.addEventListener("click", function (event) {
        if (event.target == myPopup) {
            myPopup.classList.remove("show");
        }
    });
</script>
{% endblock javascripts %}